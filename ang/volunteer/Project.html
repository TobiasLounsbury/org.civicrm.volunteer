<div class="crm-container">
  <div crm-ui-debug="project"></div>
  <div crm-ui-debug="relationships"></div>
  <div crm-ui-debug="profiles"></div>
  <div id="backboneIncludes"></div>

  <form name="projectForm" crm-ui-id-scope>

    <div class="help"></div>

    <fieldset>
      <legend>{{ ts("Project Settings") }}</legend>
      <div crm-ui-field="{name: 'projectForm.title', title: ts('Project Title')}">
        <input crm-ui-id="projectForm.title" ng-model="project.title" ng-required="true" />
      </div>

      <div crm-ui-field="{name: 'projectForm.description', title: ts('Project Description')}">
        <textarea crm-ui-id="projectForm.description" ng-model="project.description"></textarea>
      </div>

      <div crm-ui-field='{name: "projectForm.campaign", title: ts("Campaign")}'>
        <input crm-ui-id="projectForm.campaign" crm-entityref="{entity: 'Campaign', select: {allowClear:true}}" ng-model="project.campaign" />
      </div>

      <div crm-ui-field='{name: "projectForm.locBlock", title: ts("Location Block")}'>
        <input crm-ui-id="projectForm.locBlock" crm-entityref="{entity: 'LocBlock', select: {allowClear:true}}" ng-model="project.loc_block_id" />
      </div>

      <div crm-ui-field="{name: 'projectForm.is_active', title: ts('Is this Project Active')}">
        <input type="checkbox" crm-ui-id="projectForm.is_active" ng-model="project.is_active" />
      </div>
    </fieldset>

    <fieldset>
      <legend>{{ ts("Relationships") }}</legend>

      <div ng-repeat="rType in relationship_types" crm-ui-field='{name: "projectForm[rType.name]", title: ts(rType.label)}'>
        <input crm-ui-id="projectForm[rType.name]" crm-entityref="{entity: 'Contact', select: {allowClear:true, multiple: true}}" ng-model="relationships[rType.value]" />
      </div>

    </fieldset>

    <fieldset>
      <legend>{{ ts("Included Profiles") }}</legend>
      <div id="org_civicrm_volunteer-sign-up-profiles">
        <div ng-repeat="profile in profiles" class='crm-profile-selector-container'>
          <a ng-click="removeProfile($index)" class="crm-hover-button crm-button-remove-profile">
            <span class="icon ui-icon-circle-close"></span>
          </a>

          <input crm-profile-selector="{}" ng-model="profile.uf_group_id">
        </div>
      </div>
      <a ng-click="addProfile()" class="crm-hover-button crm-button-add-profile" style="display: inline-block;">
        <span class="icon ui-icon-plus"></span>add another profile
      </a>
    </fieldset>
    <div class="crm-submit-buttons">
        <span class="crm-button crm-icon-button">
          <span class="crm-button-icon ui-icon-check"> </span> <input type="submit" ng-click="saveProject()" value="{{ts('Save Changes')}}" class="crm-form-submit" accesskey="S" />
        </span>
    </div>
  </form>

</div>
